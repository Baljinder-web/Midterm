@model Member;

@{
    ViewData["Title"] = "Management";
}

<h2> Add New Member</h2>

<div class="container mt-5">

  

   <form asp-controller="Member" asp-action="AddMember" method="post" class="row g-3">

        <div asp-validation-summary="All"></div>

        
        <div class="col-12">
             <label asp-for="Name" class="form-label"> Member Name</label>
             <input type="text" asp-for="Name" class="form-control" placeholder="Enter Member Name" />
             <span asp-validation-for="Name" class="Alert-Danger"></span>
        </div>
        

        
        <div class="col-12">
             <label asp-for="PhoneNumber" class="form-label">Member Phone Number:</label>
             <input type="text" asp-for="PhoneNumber" class="form-control" placeholder="000 000 0000" />
             <span asp-validation-for="PhoneNumber" class="text-danger"></span>
        </div>


        <div class="col-12">
                <label asp-for="Email" class="form-label">Member Email:</label>
                <input type="text" asp-for="Email" class="form-control" placeholder="abc@gamil.com" />
                <span asp-validation-for="Email" class="Alert-Danger"></span>
         </div>
       


        <div class="form-group">
             <label asp-for="HasIssuedBook">Has Issued Any Book</label>
            <input asp-for="HasIssuedBook" type="checkbox" id="HasIssuedBook" />
            
         </div>

        
        <select id="IssuedBookId" name="bookId" class="form-control" style="display:none;">
            <label >Select the Issued Book</label>
            <option value="">Select a book</option>
            @foreach (var book in ViewBag.Books)
            {
                <option value="@book.BookId">@book.Title</option>
            }
        </select>

        <div class="d-flex justify-content-between">
            <button type="submit" class="btn btn-primary">Submit</button>
           
            <a asp-controller="Member" asp-action="Memberlist" class="btn btn-secondary">All Members</a>

            <a asp-controller="Member" class="btn btn-secondary" asp-action="AddMember">Clear</a>
        </div>

    </form>
  
</div>

@section Scripts {
    <script>
        document.getElementById('HasIssuedBook').addEventListener('change', function () {
            var dropdown = document.getElementById('IssuedBookId'); // remove space in 'IssuedBookId'
            if (this.checked) {
                dropdown.style.display = 'block'; // Show dropdown if checkbox is checked
            } else{
                dropdown.style.display = 'none'; // Hide dropdown if checkbox is unchecked
            }
        });
    </script>
}


    






